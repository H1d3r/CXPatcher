{\rtf1\ansi\ansicpg1252\cocoartf2822
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fswiss\fcharset0 Helvetica-Bold;\f1\fswiss\fcharset0 Helvetica;\f2\fmodern\fcharset0 CourierNewPS-BoldMT;
\f3\fnil\fcharset0 Menlo-Regular;\f4\fnil\fcharset0 LucidaGrande;\f5\fmodern\fcharset0 CourierNewPSMT;
\f6\fswiss\fcharset0 Helvetica-Oblique;}
{\colortbl;\red255\green255\blue255;\red0\green0\blue0;}
{\*\expandedcolortbl;;\cssrgb\c0\c0\c0\cname textColor;}
{\*\listtable{\list\listtemplateid1\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid1\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid1}
{\list\listtemplateid2\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid101\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid2}
{\list\listtemplateid3\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid201\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid3}
{\list\listtemplateid4\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid301\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid4}
{\list\listtemplateid5\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid401\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid5}}
{\*\listoverridetable{\listoverride\listid1\listoverridecount0\ls1}{\listoverride\listid2\listoverridecount0\ls2}{\listoverride\listid3\listoverridecount0\ls3}{\listoverride\listid4\listoverridecount0\ls4}{\listoverride\listid5\listoverridecount0\ls5}}
\paperw12240\paperh15840\margl1440\margr1440\vieww31760\viewh27180\viewkind1
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f0\b\fs36 \cf0 Evaluation environment for Windows games \cf2 3.0 beta 2\cf0  README\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f1\b0\fs24 \cf0 \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f0\b\fs28 \cf0 Overview
\f1\b0\fs24 \
\
The evaluation environment for Windows games is now a subset of the expanded Game Porting Toolkit. The evaluation environment helps game developers try out their existing Windows games right on Apple Silicon Macs running macOS 15 Sequoia or higher. Using community projects that bundle the evaluation environment, or building your own environment using the included binaries and installation and configuration instructions, you can run your game to get a sense of how it can feel and play right away, even before you begin your porting journey.\
\

\f0\b\fs28 Requirements
\f1\b0\fs24 \
\
\pard\tx220\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\li720\fi-720\pardirnatural\partightenfactor0
\ls1\ilvl0\cf0 {\listtext	\uc0\u8226 	}The evaluation environment for Windows games only runs on Apple Silicon Macs running macOS 15 Sequoia or higher.\
{\listtext	\uc0\u8226 	}Translated games require more resources, so developer-focused Macs with 16GB of RAM or more are recommended.\
{\listtext	\uc0\u8226 	}The provided macOS graphics bridge libraries must be configured with a custom version of the Wine translation environment in order to create your evaluation environment.\
{\listtext	\uc0\u8226 	}Instructions and scripts for building and configuring the custom version of Wine are included here.\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\tx9060\pardirnatural\partightenfactor0
\cf0 \

\f0\b\fs28 Installation and Setup\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f1\b0\fs24 \cf0 \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f0\b \cf0 Use a pre-built evaluation environment\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f1\b0 \cf0 \
While simple to use once configured and installed, the evaluation environment for Windows games can take time to configure and use correctly depending on your proficiency and comfort with command-line tools and your experience using translation tools like WINE. The following free and commercial products incorporate the supplemental evaluation layers from this distribution within a pre-built WINE environment.\
\
\pard\tx220\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\li720\fi-720\pardirnatural\partightenfactor0
\ls2\ilvl0\cf0 {\listtext	\uc0\u8226 	}Dean Greer\'92s (aka GCenX) 
\f0\b homebrew-wine 
\f1\b0 ({\field{\*\fldinst{HYPERLINK "https://github.com/Gcenx/homebrew-wine"}}{\fldrslt https://github.com/Gcenx/homebrew-wine}}) and 
\f0\b game-porting-toolkit
\f1\b0  ({\field{\*\fldinst{HYPERLINK "https://github.com/Gcenx/game-porting-toolkit/releases"}}{\fldrslt https://github.com/Gcenx/game-porting-toolkit}}) casks  - use 
\f2\b brew install --cask --no-quarantine gcenx/wine/<XYZZY>
\f1\b0  to easily install either of the more complete environments and the graphical translation layer.\
{\listtext	\uc0\u8226 	}CodeWeaver\'92s 
\f0\b CrossOver
\f1\b0 . ({\field{\*\fldinst{HYPERLINK "https://www.codeweavers.com/crossover"}}{\fldrslt https://www.codeweavers.com/crossover}}) CodeWeavers offers a 14-day free trial of CrossOver, which includes integration of the graphical translation layer.\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f0\b \cf0 \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f1\b0 \cf0 Note: early in the macOS 26 Tahoe beta period these pre-built tools may still be carrying the prior version of D3DMetal. You can temporarily update these tools to use the latest version as follows.\
\pard\tx220\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\li720\fi-720\sb240\pardirnatural\partightenfactor0
\ls3\ilvl0\cf0 {\listtext	\uc0\u8226 	}
\f0\b homebrew-wine
\f1\b0  and 
\f0\b game-porting-toolkit
\f1\b0  casks - you can replace the copies of the evaluation environment libraries found at /Applications/Game\\ Porting\\ Toolkit.app/Contents/Resources/wine/lib/ with the libraries from this distribution:\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\li1438\fi-3\sb120\pardirnatural\partightenfactor0

\f3 \cf0 cd /Applications/Game\\ Porting\\ Toolkit.app/Contents/Resources/wine/lib\
mv external external.old; mv wine wine.old\
ditto "/Volumes/Evaluation environment for Windows games 3.0 beta 2/redist/lib/" .
\f1 \
\pard\tx220\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\li720\fi-720\sb240\pardirnatural\partightenfactor0
\ls4\ilvl0\cf0 {\listtext	\uc0\u8226 	}
\f0\b CrossOver
\f1\b0 : replace CrossOver\'92s copies of the evaluation environment libraries found at /Applications/CrossOver.app/Contents/SharedSupport/CrossOver/lib64/apple_gptk with the libraries from this distribution:\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\li1438\fi-3\sb120\pardirnatural\partightenfactor0

\f3 \cf0 cd /Applications/CrossOver.app/Contents/SharedSupport/CrossOver/lib64/apple_gptk\
mv external external.old; mv wine wine.old\
ditto "/Volumes/Evaluation environment for Windows games 3.0 beta 2/redist/lib/" .
\f1 \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0
\cf0 \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f0\b\fs28 \cf0 Prepare your environment
\f1\b0\fs24 \
\
To enable experimental MetalFX integration, perform the following steps:\
\pard\tx220\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\li720\fi-720\sb240\pardirnatural\partightenfactor0
\cf0 	\'95	Rename 
\f3 wine/x86_64-unix/nvngx-on-metalfx.so
\f1  to 
\f3 wine/x86_64-unix/nvngx.so
\f1  if this hasn\'92t already been done\
\pard\tx220\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\li720\fi-720\pardirnatural\partightenfactor0
\ls5\ilvl0\cf0 {\listtext	\uc0\u8226 	}Rename 
\f3 wine/x86_64-windows/nvngx-on-metalfx.dll
\f1  to 
\f3 wine/x86_64-windows/nvngx.dll
\f1  if this hasn\'92t already been done\
{\listtext	\uc0\u8226 	}Copy both 
\f3 nvngx.dll
\f1  and 
\f3 nvapi64.dll
\f1  to the 
\f3 windows\\system32
\f1  directory your Wine prefix\'92s virtual C: drive (open 
\f3 ~/my-game-prefix/drive_c/windows/system32
\f1 )\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f0\b\fs28 \cf0 \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\tx9060\pardirnatural\partightenfactor0
\cf0 Environment Variables\

\f1\b0\fs24 \
Environment variables can be used to control some aspects of translation and emulation in the evaluation environment.\
\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\tx9060\li1331\fi-853\pardirnatural\partightenfactor0

\f2\b \cf0 D3DM_SUPPORT_DXR
\f1\b0  - Defaults to 0 (OFF) on M1 & M2 Macs, and to 1 (ON) for M3 & later Macs. Setting this environment variable to 1 (ON) enables DirectX Raytracing (aka DXR) features in D3DMetal\'92s DirectX 12 translation layer, so games querying for DXR support will find the support level and expected interfaces of DXR.\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\tx9060\pardirnatural\partightenfactor0
\cf0 \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\tx9060\li1331\fi-854\pardirnatural\partightenfactor0

\f2\b \cf0 ROSETTA_ADVERTISE_AVX
\f1\b0  - Defaults to 0 (OFF). On macOS 15 Sequoia and later, setting this environment variable to 1 (ON) causes the CPU instruction translation layer to publish cpuid information to translated applications when running in the evaluation environment, so games querying instruction set extension capabilities before utilizing them can conditionally control their use of instruction extensions. This setting does not modify the availability of the instruction set in Rosetta; it only controls whether the processor advertises its support for these extensions.\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\tx9060\li1331\fi-853\pardirnatural\partightenfactor0
\cf0 \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\tx9060\li1331\fi-854\pardirnatural\partightenfactor0

\f2\b \cf0 D3DM_ENABLE_METALFX
\f1\b0  - Defaults to 0 (OFF). On macOS 26 Tahoe, setting this environment variable to 1 (ON) causes DLSS functions to be converted to MetalFX where possible. Setting this environment variable to 0 (OFF) causes DLSS functions to be not be available.\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0
\cf0 \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f0\b\fs28 \cf0 Logging
\f1\b0\fs24 \
\
Logging output will appear in the Terminal window in which you launch your game as well as the system log, which can be viewed with the Console app found in Applications 
\f4 \uc0\u9656 
\f1  Utilities. Log messages from the evaluation environment for Windows games are prefixed with 
\f0\b D3DM
\f1\b0  and are logged to the system log using the "D3DMetal" category. If you are experiencing an issue and want to send logging information through https://feedbackassistant.apple.com, please attach and send the full logs without filtering to 
\f0\b D3DM.
\f1\b0 \
\

\f0\b\fs28 Debugging your game with Metal debugger\
\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\tx9060\li1331\fi-853\pardirnatural\partightenfactor0

\f2\fs24 \cf0 Note: You will need to disable System Integrity Protection (SIP) ({\field{\*\fldinst{HYPERLINK "https://developer.apple.com/documentation/security/disabling_and_enabling_system_integrity_protection"}}{\fldrslt 
\f1\b0 https://developer.apple.com/documentation/security/disabling_and_enabling_system_integrity_protection}}
\f1\b0 )
\f2\b  to debug CrossOver's Wine processes. Reenable SIP after you finish debugging.\
\pard\tx220\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\li720\fi-720\sb240\pardirnatural\partightenfactor0

\f1\b0 \cf0 	\'95	Compile your shaders with embedded debug information ({\field{\*\fldinst{HYPERLINK "https://developer.apple.com/metal/shader-converter/#shader"}}{\fldrslt https://developer.apple.com/metal/shader-converter/#shader}}) by passing 
\f3 -Zi -Qembed_debug
\f1  to the DX Compiler.\
	\'95	In CrossOver, select a bottle to launch your game from.\
	\'95	Enable D3DMetal in the Advanced Settings for the bottle.\
	\'95	Launch your game by clicking Run Command, choosing your game executable, and inserting the following environment variables to enable Metal debugging and processing of debug information: 
\f2\b MTL_CAPTURE_ENABLED=1 D3DM_DXIL_PROCESS_DEBUG_INFORMATION=1\

\f1\b0 	\'95	In Xcode, click 
\f3 Debug > Debug Executable\'85
\f1  from the menubar and select CrossOver.app (this is just to get a workspace window open)\
	\'95	In the visible Scheme options, click the 
\f3 Options
\f1  tab and change 
\f3 GPU Frame Capture
\f1  from 
\f3 Automatically
\f1  to 
\f3 Metal
\f1 .\
	\'95	Close Scheme.\
	\'95	Click 
\f3 Debug > Attach to Process
\f1  from the menubar and select your launched game process.\
	\'95	After the debugger attaches to the process, you can capture your Metal workload ({\field{\*\fldinst{HYPERLINK "https://developer.apple.com/documentation/xcode/capturing-a-metal-workload-in-xcode#Capture-your-Metal-workload-while-debugging"}}{\fldrslt https://developer.apple.com/documentation/xcode/capturing-a-metal-workload-in-xcode#Capture-your-Metal-workload-while-debugging}}).\
\
\pard\pardeftab720\partightenfactor0
\cf0 If lldb suspends the process due to handling 
\f3 SIGUSR1
\f1 , you will need to run the following commands to ignore this signal and continue the process:\
\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\li961\fi1\pardirnatural\partightenfactor0

\f3 \cf0 process handle -pass false -stop false -notify false SIGUSR1\
continue
\f1 \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0
\cf0 \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f0\b\fs28 \cf0 Troubleshooting
\f1\b0\fs24 \
\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f0\b \cf0 My game won't run and crashes with an invalid instruction or complains about lack of certain instruction extensions
\f1\b0 \
\
Invalid instruction crashes are sometimes caused when the Rosetta 2 instruction translation layer is unable to translate CPU instructions. You may be able to recompile a version of your game without certain instructions in order to evaluate its potential on Apple Silicon with the Game Porting Toolkit when you hit this error. You may also be able to use the 
\f5 ROSETTA_ADVERTISE_AVX
\f1  environment variable to ensure your game recognizes available translation instruction extensions. When porting your code natively to Apple Silicon there are a variety or NEON and ARM instructions which offer high-performance replacements for AVX / AVX2, BMI, F16c and other less common instruction set extensions.\
\

\f0\b My game won't run because its anti-cheat or DRM software is incompatible with Wine translation.\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f1\b0 \cf0 \
You may be able to rebuild a custom version of your game in your Windows development environment with anti-cheat or DRM disabled for your own evaluation purposes. When porting your code natively to Apple Silicon and macOS, contact your anti-cheat or DRM provider\'97most have native Apple Silicon solutions for your native build, or you may find that existing macOS solutions like Hardened Runtime, Application Sandbox, and Application Attestation prevent forms of cheating or tampering that concern you.\
\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f0\b \cf0 My game won\'92t run because it thinks the version of Windows is too old.
\f1\b0 \
\
First, make sure you have selected an appropriate Windows version in winecfg. This affects the major and minor Windows versions that are reported to your game.\
\
If your game checks for a specific minimum or an exact build version, you can alter this value by changing the 
\f3 CurrentBuild
\f1  and 
\f3 CurrentBuildNumber
\f1  values of the 
\f3 HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Windows NT
\f1  registry key. You must perform this step 
\f6\i after
\f1\i0  selecting a Windows version in winecfg.\
\

\f0\b My game won\'92t run because it requires Mono, .NET, or the MSVCRT runtime.
\f1\b0 \
\
The evaluation environment for Windows games does not pre-install these runtime support packages. If your game makes use of one of these packages, consider searching for and downloading appropriate installers (.exe or .msi) and installing them to your evaluation environment. \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f3 \cf0 \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f0\b \cf0 My game won\'92t boot anymore even though I made no changes.\
\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f1\b0 \cf0 If the game stopped booting without being updated, you can try clearing the shader cache.\
Run the following commands:\
\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\li961\fi1\pardirnatural\partightenfactor0

\f3 \cf0 cd $(getconf DARWIN_USER_CACHE_DIR)/d3dm\
cd \'abGAME_NAME\'bb\
rm -r shaders.cache
\f1 \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0
\cf0 \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f0\b \cf0 Do you have a different problem or other feedback?\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f1\b0 \cf0 \
Please let us know through https://feedbackassistant.apple.com.}
